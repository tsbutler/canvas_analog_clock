<!DOCTYPE html>
<html>

<head>
  <title>Analog Clock</title>

<style>
#current-time {
  display: block;
  font-weight: bold;
  text-align: center;
  width: 200px;
  padding: 10px;
}

#clock {
  padding: 10px;
  border: 1px solid #000000;
}
</style>

</head>

<body>

<div id="current-time">12:00 AM</div>
<canvas id="clock" width="200" height="200">
    If you can see this message then your browser doesn't support canvas and you need an update.  Sorry. :(
</canvas>

<script>
document.addEventListener('DOMContentLoaded', displayTime);



function displayTime() {
  var now = new Date();
  var h = now.getHours();
  var m = now.getMinutes();
  var s = now.getSeconds();
  var timeString = formatHour(h) + ":" + padZero(m) + ":" + padZero(s) + " " + getTimePeriod(h);
  document.querySelector('#current-time').innerHTML = timeString;


  // --- Analog Clock --- //
  var canvas = document.querySelector('#clock');
  var context = canvas.getContext("2d");

  //You can change this to make the clock as big or as small as you like.
  //Just remember to adjust the canvas size as necessary.
  var clockRadius = 100;

  //Ensure the clock is centered.
  var clockX = canvas.width / 2;
  var clockY = canvas.height / 2;

  //Define Tau.  It's not a default.
  Math.TAU = 2 * Math.PI;

  var hArmRadians = Math.TAU * (h / 12);
  var hArmLength = clockRadius;

  //If we start from the center of the clock,
  // this is where the x and y value the other end of the arm should point to
  var targetX = clockX + Math.cos(hArmRadians - (Math.TAU/4)) * hArmLength;
  var targetY = clockY + Math.sin(hArmRadians - (Math.TAU/4)) * hArmLength;

  //The line should be ten pixels thick and red.
  context.lineWidth = 10;
  context.strokeStyle = '#DD0000';

  context.beginPath();
  context.moveTo(clockX, clockY); //Start at the center
  context.lineTo(targetX, targetY); //Draw a line outwards
  context.stroke();

  //The line should be 5 pixels thick and black.
  context.lineWidth = 5;
  context.strokeStyle = '#000000';

  context.beginPath();
  context.moveTo(clockX, clockY); //Start at the center
  context.lineTo(clockX, clockY - clockRadius); //Draw straight up
  context.stroke();
}

function padZero(num) {
  if (num < 10) {
    return "0" + String(num);
  }
  else {
    return String(num);
  }
}

function formatHour(h) {
  var hour = h % 12;

  if (hour == 0) {
    hour = 12;
  }

  return String(hour);
}

function getTimePeriod(h) {
  return (h < 12) ? "AM" : "PM";
}

</script>

</body>

</html>